#compdef yayfzf

_yayfzf() {
  local -a opts main_actions

  main_actions=(
    'Install packages:Search and install packages (AUR + repos)'
    'Remove packages:Search installed packages and remove them'
    'Update system:Update the whole system (yay -Syu)'
    'Install config:Install example config file'
    'Show config:Show example config content'
    'Help:Show help'
    'Exit:Quit'
  )

  opts=(
    '(-h --help)'{-h,--help}'[Show help (short or full)]'
    '(-k --keybindings)'{-k,--keybindings}'[Show keybindings]'
    '(-i --init-config)'{-i, --init-config}'[Install example configuration file]'
    '(-s --show-config)'{-s, --show-config}'[Show example configuration file content]'
    '(-v --verbose)'{-v,--verbose}'[Show verbose output]'
    '(-V --version)'{-V,--version}'[Show version]'
  )

  # No positional arguments anymore â†’ only options or nothing
  _arguments -C \
    "${opts[@]}" \
    '*: :( )'   # explicitly say no more arguments after options
}

_yayfzf "${@}"
